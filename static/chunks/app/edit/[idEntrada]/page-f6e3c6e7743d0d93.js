(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[140],{3571:function(e,a,i){Promise.resolve().then(i.bind(i,3738))},3738:function(e,a,i){"use strict";i.r(a),i.d(a,{default:function(){return _}});var l=i(7437),s=i(2265),c=i(4558),t=i.n(c),n=i(6446);i(1562);var o=[["bold","italic","underline","strike"],[{align:[]}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],["link","image","video"],[{color:[]},{background:[]}],["clean"]];i(6371);var r={src:"/_next/static/media/nubed.f9e1b54a.png"},d={src:"/_next/static/media/nubeac.45873f5f.png"};function _(e){let{params:a}=e,i=(0,s.useRef)(null),[c,_]=(0,s.useState)({fecha:"",id:0,titulo:"",texto:"",textoplano:"",textoplanovisible:""}),[u,v]=(0,s.useState)("grey"),[x,p]=(0,s.useState)("invisible"),[h,j]=(0,s.useState)(0),[m,b]=(0,s.useState)("loader"),{quill:f,quillRef:g}=(0,n.p)({modules:{toolbar:o}});async function N(e){let a=await fetch("".concat("http://localhost:3001/api","/entrada/").concat(e)),i=await a.json();return i.inexistente?b("no"):b("si"),i}async function y(e,a){let i=await fetch("".concat("http://localhost:3001/api","/entrada/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),l=await i.json();return z("actualizado"),l}let[A,z]=(0,s.useState)("inicio");return(0,s.useEffect)(()=>{N(a.idEntrada).then(e=>{_(e)})},[]),(0,s.useEffect)(()=>{f&&(c.texto&&f.setContents(JSON.parse(c.texto)),f.on("text-change",()=>{z("cambio")}),z("inicio"))},[f,c]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:t().no_existe,style:{display:"no"==m?"flex":"none"},children:(0,l.jsx)("p",{children:"No se ha encontrado la p\xe1gina"})}),(0,l.jsxs)("div",{className:t().editor,style:{display:"si"==m?"grid":"none"},children:[(0,l.jsxs)("div",{className:t().alto,children:[(0,l.jsxs)("div",{className:t().tituloS,children:[(0,l.jsx)("div",{className:t().leyenda,style:{transition:" all 2s",color:u},children:"T\xedtulo"}),(0,l.jsx)("input",{className:t().input,defaultValue:c.titulo,ref:i,type:"text",name:"title",onFocus:()=>{v("blue"),p("visible")},onBlur:()=>{v("grey"),p("invisible")},onChange:()=>{z("cambio")}}),(0,l.jsx)("div",{className:"visible"==x?t().marcadorvisible:t().marcadorinvisible}),(0,l.jsx)("div",{className:t().subrayado})]}),(0,l.jsxs)("div",{className:t().botonactualizar,children:[(0,l.jsx)("div",{className:t().aviso_actualizacion,style:{display:"inicio"==A||"actualizando"==A?"none":"block"},children:"cambio"==A?(0,l.jsx)("img",{src:r.src}):(0,l.jsx)("img",{src:d.src})}),(0,l.jsx)("div",{className:t().aviso_actualizando,style:{display:"actualizando"==A?"block":"none"},children:(0,l.jsx)("div",{className:t().rueda})}),(0,l.jsx)("div",{className:t().botonactualizar_dentro,style:{cursor:"cambio"==A?"pointer":"default"},onClick:()=>{"cambio"==A&&(z("actualizando"),y(a.idEntrada,{id:a.idEntrada,titulo:i.current.value,titulobuscar:(" "+i.current.value.replaceAll("*"," ").replaceAll("/"," ").replaceAll("|"," ").replaceAll("\n"," ").replaceAll("	"," ").replaceAll("\\"," ").replaceAll("\r"," ").replaceAll("\v","").replaceAll("'"," ").replaceAll('"'," ").replaceAll(","," ").replaceAll("."," ")+" ").toLowerCase(),texto:JSON.stringify(f.getContents()).replaceAll("'","''"),textoplano:(" "+f.getText().replaceAll("/"," ").replaceAll("|"," ").replaceAll("\n"," ").replaceAll("	"," ").replaceAll("\\"," ").replaceAll("\r"," ").replaceAll("\v","").replaceAll("'"," ").replaceAll('"'," ").replaceAll(","," ").replaceAll("."," ")+" ").toLowerCase(),textoplanovisible:f.getText().replaceAll("'","''")}))},children:"Actualizar"})]})]}),(0,l.jsxs)("div",{className:t().bajo,children:[(0,l.jsx)("div",{className:t().nota,children:(0,l.jsx)("div",{className:t().quillref,ref:g})}),(0,l.jsx)("div",{className:t().configuraciones,children:(0,l.jsxs)("div",{className:t().acordeon,children:[(0,l.jsx)("p",{className:t().p,children:"Configuraci\xf3n de la entrada"}),(0,l.jsxs)("div",{className:t().div,onClick:()=>{1==h?j(0):j(1)},children:[(0,l.jsxs)("div",{className:t().divhijo,children:[(0,l.jsx)("svg",{className:"".concat(t().svg," ").concat(1==h?t().girar:""),focusable:"false",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})}),(0,l.jsx)("p",{children:"Etiquetas"})]}),(0,l.jsx)("div",{className:"".concat(t().contenido," ").concat(1==h?t().abrir:"")})]}),(0,l.jsxs)("div",{className:t().div,onClick:()=>{2==h?j(0):j(2)},children:[(0,l.jsxs)("div",{className:t().divhijo,children:[(0,l.jsx)("svg",{className:"".concat(t().svg," ").concat(2==h?t().girar:""),focusable:"false",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})}),(0,l.jsx)("p",{children:"Fecha de publicacion"})]}),(0,l.jsx)("div",{className:"".concat(t().contenido," ").concat(2==h?t().abrir:"")})]}),(0,l.jsxs)("div",{className:t().div,onClick:()=>{3==h?j(0):j(3)},children:[(0,l.jsxs)("div",{className:t().divhijo,children:[(0,l.jsx)("svg",{className:"".concat(t().svg," ").concat(3==h?t().girar:""),focusable:"false",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})}),(0,l.jsx)("p",{children:"Enlace permanente"})]}),(0,l.jsx)("div",{className:"".concat(t().contenido," ").concat(3==h?t().abrir:"")})]}),(0,l.jsxs)("div",{className:t().div,onClick:()=>{4==h?j(0):j(4)},children:[(0,l.jsxs)("div",{className:t().divhijo,children:[(0,l.jsx)("svg",{className:"".concat(t().svg," ").concat(4==h?t().girar:""),focusable:"false",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})}),(0,l.jsx)("p",{children:"Ubicacion"})]}),(0,l.jsx)("div",{className:"".concat(t().contenido," ").concat(4==h?t().abrir:"")})]}),(0,l.jsxs)("div",{style:{border:"none"},className:t().div,onClick:()=>{5==h?j(0):j(5)},children:[(0,l.jsxs)("div",{className:t().divhijo,children:[(0,l.jsx)("svg",{className:"".concat(t().svg," ").concat(5==h?t().girar:""),focusable:"false",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})}),(0,l.jsx)("p",{children:"Opciones"})]}),(0,l.jsx)("div",{className:"".concat(t().contenido," ").concat(5==h?t().abrir:"")})]})]})})]})]})]})}},6371:function(){},4558:function(e){e.exports={editor:"edit_editor__3IbIi",bajo:"edit_bajo__DZ2yy",nota:"edit_nota__emYss",quillref:"edit_quillref__L8EPS",configuraciones:"edit_configuraciones__CIJ5Q",acordeon:"edit_acordeon__UVKI_",contenido:"edit_contenido__antgd",abrir:"edit_abrir__6liEr",div:"edit_div__T_PZe",divhijo:"edit_divhijo__O93hY",svg:"edit_svg__bhW_M",girar:"edit_girar__Fb3Ny",p:"edit_p__AGOK_",alto:"edit_alto__3j7Z3",botonactualizar:"edit_botonactualizar__xya6d",botonactualizar_dentro:"edit_botonactualizar_dentro__GwSkR",aviso_actualizacion:"edit_aviso_actualizacion__MgVLK",aviso_actualizando:"edit_aviso_actualizando__yDOeH",tituloS:"edit_tituloS__nZNLx",leyenda:"edit_leyenda___xy3k",input:"edit_input__fYBFQ",subrayado:"edit_subrayado__vhGMK",marcadorinvisible:"edit_marcadorinvisible__txZFl",marcadorvisible:"edit_marcadorvisible__iHmk6",rueda:"edit_rueda__tUDRy",giro:"edit_giro___xqcI",no_existe:"edit_no_existe__Sw_Xf"}}},function(e){e.O(0,[70,249,971,938,744],function(){return e(e.s=3571)}),_N_E=e.O()}]);